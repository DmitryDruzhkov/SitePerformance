<div class="game-container">
  <div *ngIf="!gameStarted" class="intro">
    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä —É—Å–∫–æ—Ä–µ–Ω–∏—è —Å–∞–π—Ç–∞!</h2>
    <p>–¶–µ–ª—å: —É–º–µ–Ω—å—à–∏—Ç—å –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å 5 —Å–µ–∫—É–Ω–¥ –¥–æ 200 –º—Å, –Ω–µ –ø–æ—Ç—Ä–∞—Ç–∏–≤ –±–æ–ª–µ–µ 2 –º–µ—Å—è—Ü–µ–≤ –∏ 1 –º–ª–Ω —Ä—É–±–ª–µ–π.</p>
    <button (click)="startGame()">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
  </div>

  <div *ngIf="gameStarted" class="game-content">
    <div class="status-bar">
      <div>‚è± –û—Å—Ç–∞–ª–æ—Å—å –≤—Ä–µ–º–µ–Ω–∏: {{ timeLeft }} –¥–Ω.</div>
      <div>üí∞ –ë—é–¥–∂–µ—Ç: {{ budgetLeft | currency:'RUB' }}</div>
      <div>üöÄ –¢–µ–∫—É—â–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å: {{ currentLoadTime }} –º—Å</div>
      <div>üïí –¢–∞–π–º–µ—Ä: {{ timer }} —Å–µ–∫.</div>
    </div>

    <div class="site-simulator" [@siteLoad]="stage">
      <div *ngIf="stage === 'white'" class="white-screen">–ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω...</div>
      <div *ngIf="stage === 'header'" class="header">–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...</div>
      <div *ngIf="stage === 'skeleton'" class="skeletons">–°–∫–µ–ª–µ—Ç—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞...</div>
      <div *ngIf="stage === 'content'" class="content">–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–µ–Ω!</div>
    </div>

    <div class="actions">
      <h3>–£–ª—É—á—à–µ–Ω–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h3>
      <div class="action-columns">
        <div>
          <h4>Frontend</h4>
          <ng-container *ngFor="let action of frontendActions">
            <button (click)="applyAction(action)">{{ action.name }} ({{ action.effect }}–º—Å, {{ action.cost | currency:'RUB' }}, {{ action.time }}–¥–Ω)</button>
          </ng-container>
        </div>
        <div>
          <h4>SSR</h4>
          <ng-container *ngFor="let action of ssrActions">
            <button (click)="applyAction(action)">{{ action.name }} ({{ action.effect }}–º—Å, {{ action.cost | currency:'RUB' }}, {{ action.time }}–¥–Ω)</button>
          </ng-container>
        </div>
        <div>
          <h4>Network</h4>
          <ng-container *ngFor="let action of networkActions">
            <button (click)="applyAction(action)">{{ action.name }} ({{ action.effect }}–º—Å, {{ action.cost | currency:'RUB' }}, {{ action.time }}–¥–Ω)</button>
          </ng-container>
        </div>
        <div>
          <h4>Backend</h4>
          <ng-container *ngFor="let action of backendActions">
            <button (click)="applyAction(action)">{{ action.name }} ({{ action.effect }}–º—Å, {{ action.cost | currency:'RUB' }}, {{ action.time }}–¥–Ω)</button>
          </ng-container>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="gameOver" class="result">
    <h2 *ngIf="gameWon">üéâ –ü–æ–±–µ–¥–∞! –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ 200–º—Å –∏ –Ω–µ –ø–æ—Ç—Ä–∞—Ç–∏–ª–∏ –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã!</h2>
    <h2 *ngIf="!gameWon">üò¢ –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞. –£ –≤–∞—Å –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å —Ä–µ—Å—É—Ä—Å—ã –∏–ª–∏ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ —Ü–µ–ª—å.</h2>
    <button (click)="reset()">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
  </div>
</div>